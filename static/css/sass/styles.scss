@import "bourbon/bourbon";
@import "grid-settings";
@import "neat/neat";
@import "bitters/bitters";

// VARIABLES ========================================================

// Corporate Colors 
$light-coffee: #F0E3CF;
$strong-coffee: #CAB69A;

// Navigation Colors
$navigation-background: $dark-gray;
$navigation-color: transparentize(white, 0.3);
$navigation-color-hover: white;
$navigation-nav-button-background: $base-accent-color;
$navigation-nav-button-background-hover: lighten($navigation-background, 10);

// General Colors
$grey-text: #646464;
$error-red: #a60000;
$error-background: #ffd5d5;


// MIXINS ========================================================

// Button
@mixin btn($bg_color) {
	@include transition (all 0.2s ease-in-out);
	background: $bg_color;
	border-radius: $base-border-radius; 
	color: white;
	padding: .4em .6em;
	&:hover {
		background: lighten($bg_color, 10);
	}
}

@mixin menu-btn($bg_color, $height) {
	@include btn($bg_color);
	text-align: center;
	margin-bottom: 15px;
	padding: 0 .6em;
	font-size: 18px;
	font-weight: bold;
	letter-spacing: -1px;

	&:hover {
		background: lighten($bg_color, 18);
		color: darken($bg_color, 16);
		font-weight: normal;
		letter-spacing: 1px;
	}

	div {
		display:table;
		height: $height;
		width: 100%;
		span {
			display:table-cell;
			vertical-align:middle;
		}
	}

	@include media($mobile) {
		div {
			height: auto;
			padding: .6em .6em;
		}
	}
}

@mixin link-like {
	color: #477dca;
	text-decoration: none;
	-webkit-transition: color 0.1s linear;
	-moz-transition: color 0.1s linear;
	transition: color 0.1s linear;
	cursor: pointer;

	&:hover {
		color: #2c5999; 
	}
	&:active, &:focus {
		color: #2c5999;
		outline: none; 
	}
}


body {

	margin: 0;

	header {
		$navigation-height: 45px;
		$navigation-nav-button-border: 1px solid lighten($navigation-nav-button-background, 20);

		$mm-to-in: 0.0393700787;
		$size-factor: ($navigation-height / 72) / (80 * $mm-to-in);
		$mm-to-px: $size-factor * 72 * $mm-to-in;


		background-color: $navigation-background;
		border-bottom: 1px solid darken($navigation-background, 10);
		font-family: $sans-serif;
		height: $navigation-height;
		width: 100%;
		z-index: 999;
		line-height: 1em;
		margin: 0px 0px 15px 0px;

		@include media ($mobile) {
			margin: 0;
		}

		div.navigation-wrapper {
			@include outer-container;
		    position: relative;
		    z-index: 9999;
		    height: $navigation-height;

		    #corporate {
				display: inline-block;
				height: $navigation-height;
				padding-left: 15px;
				padding-right: 15px;

				@include media ($mobile) {
					padding-left: 8px;
					padding-right: 8px;
				}

				a {
					display: inline;
				}

				#logo {
					float: left;
					max-height: $navigation-height;
					padding: $mm-to-px * 10 $mm-to-px * 7.52 $mm-to-px * 10 0;
					border:0;
				}

				#font {
					font-family: 'Yanone Kaffeesatz', sans-serif;
					font-size: $size-factor * 157.27;
					float: left;
					padding: $mm-to-px * 18.67 $mm-to-px * 10 $mm-to-px * 20 0px;

					#esti {
						font-weight: 200;
						color: $strong-coffee;
						letter-spacing: -0.07em;
						margin-right: $mm-to-px * 4;
						float: left;
						line-height: $navigation-height - $mm-to-px * 38.67;
					}

					#mate {
						font-weight: 400;
						color: $light-coffee;
						letter-spacing: -0.02em;
						float: left;
						line-height: $navigation-height - $mm-to-px * 38.67;
					}
				}
			}

			#username {
				$username-line-height: 13px;
				$username-border-color: #646464;

				display: inline-block;
				color: $navigation-color;
				float: right;
				line-height: $username-line-height;
				height: $navigation-height;
				padding: ($navigation-height - $username-line-height*2)/2 15px ($navigation-height - $username-line-height*2)/2 10px;
				font-size: 11px;
				border-left: 1px solid $username-border-color;

				@include media ($mobile) {
					padding-left: 8px;
					padding-right: 8px;
					border-left: 0;
				}

				span {
					font-size: 16px;
					font-weight: 600;
					color: white;
				}
			}

			#naviToggle {
				display: none;
				color: $navigation-color;
				float: right;
				cursor: pointer;
				padding: 0px 8px;

				&:hover {
					color: $navigation-color-hover;
				}

				i {
					font-size: 1.5em;
					line-height: $navigation-height;
				}

				@include media ($mobile) {
					display: inline-block;
				}
			}

			nav {
				display: inline-block;
				float: right;
				font-size: 16px;
				height: $navigation-height;

				@include media ($mobile) {
					&.logged_in {
						width: 100%;
						top: -2px;
						position: relative;
						height: 0;
					}
				}

		    	ul {
		    		display: inline-block;
			      	line-height: $navigation-height;
			      	padding-right: 5px;

			      	@include media ($mobile) {
						padding-right: 0;
						clear: both;
					    -webkit-transform-style: preserve-3d; 
					    margin: 0 auto;
					    overflow: hidden;
					    padding: 0;
					    width: 100%;
					    z-index: 9999;

					    &.logged_in {
							display: none;
						}

					    &.logged_out {
							font-size: 14px;
						}
					}

					li {
						float: left;
			    		padding-right: 10px;

						a {
				    		color: $navigation-color;

				    		&:hover {
								color: $navigation-color-hover;
							}
				    	}

				    	.login-btn {
				    		line-height: 1em !important;
				    		@include btn($navigation-nav-button-background);
				    	}
					}

					&.logged_in li {

			    		@include media ($mobile) {
							background: $navigation-background;
							display: block;
							line-height: $navigation-height;
							overflow: hidden;
							text-align: right;
							width: 100%;
							z-index: 9999;
							@include transition (all 0.2s ease-in-out);

							&:hover {
								background: lighten($navigation-background, 15);
							}
			    		}

			    	}
		    	}
			}
		}
	}

	main {
		@include outer-container;
		position: relative;
		padding: 15px;

		@include media ($mobile) {
			padding: 8px;
		}

		h1 {
			margin: 5px 0 15px 0;
			letter-spacing: -1.5px;
			display: block;
		}
		h2 {
			margin: 5px 0 15px 0;
			letter-spacing: -1.3px;
			display: block;
		}
		h3 {
			margin: 5px 0 10px 0;
			text-transform: uppercase;
			font-size: 23px;
			letter-spacing: -1px;
			display: block;
		}
		h4 {
			margin: 3px 0 10px 0;
			font-size: 18px;
			text-transform: uppercase;
			letter-spacing: -.7px;
			display: block;
		}

		p {
			@include media ($mobile) {
				line-height: 1.3em;
			}
		}

		section {
			@include span-columns(6);

			@include media($tablet) {
				@include span-columns(5 of 8);
			}

			@include media($mobile) {
				@include span-columns(3);
				@include shift(0.5);
			}
		}

		aside {
			@include span-columns(3.5);
			@include shift(0.5);
			
			@include media($tablet) {
				@include span-columns(2.5 of 8);
				@include shift(0.5);
			}

			@include media($mobile) {
				@include span-columns(4 of 4);
				@include shift(0);
			}
		}

		form {
			input {
				&[type="submit"], &[type="button"] {
					@include btn($navigation-nav-button-background);
				}
			}

			label {
				font-size: 12px;
			}

			span.helptext {
				font-size: 14px;
				line-height: 1.3em;
			}

			ul.errorlist {
				color: $error-red;
				background: $error-background;
				border-radius: $base-border-radius; 
				padding: 5px 10px;
			}


		}

		// - - - - - - - - - - - - - - - - - - - - - - - - 
		// CONTAINER SIZING 
		// -----------------------------------------------
		#login, #register, #menu {
			@include span-columns(6);
			@include shift(2);

			@include media($tablet) {
				@include shift(1);
				@include span-columns(6);
			}

			@include media($mobile) {
				@include shift(0);
				@include span-columns(4);
			}
		}

		// LANDING PAGE 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		#landing {
			@include span-columns(5);
			@include media($mobile) {
				@include span-columns(4);
				margin-bottom: 10px;
			}
		}

		// REGISTER / LOGIN PART ON LANDING PAGE
		#register-login {
			@include span-columns(5);
			@include media($mobile) {
				@include span-columns(4);
			}

			ul.accordion {
				margin-bottom: $base-line-height;
				display: flex;

				li {
					float:left;
					padding: 5px 0;
					@include span-columns(2.5 of 5);

					&.not-selected {
						@include link-like;
						border-bottom: 1px solid $base-border-color;
					}

					&.selected {
						font-weight: bold;
						border-bottom: 1px solid $dark-gray;
					}

					@include media($mobile) {
						@include span-columns(2 of 4);
					}
				}
			}

			span.helptext {
				display: none;
			}

			#login-form {
				display:none;

				a.new-account {
					display:none;
				}
			}
		}


		// MAIN MENU 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		section.menu {
			padding: 20px 0;

			@include media($mobile) {
				text-align:center;
			}

			.row {

				.menu-btn {
					@include span-columns(3 of 6);
					@include media($mobile) {
						@include span-columns(1 of 1);
					}
				}
				
				.challenge_btn {
					@include menu-btn($navigation-nav-button-background, 100px);
				}
				.choose_btn {
					@include menu-btn(#aabb2f, 100px);
				}
				.random_btn {
					@include menu-btn(#dd480d, 100px);
				}
				.create_btn {
					@include menu-btn(#efb600, 100px);
				}
			} 

		}

		aside.menu {
			padding: 20px 0;

			@include media($mobile) {
				padding-top: 0;
			}

			.short-stats {
				@include span-columns(1.5 of 3.5);
				margin-bottom: 20px;

				@include media($tablet) {
					@include span-columns(2 of 2);
				}

				@include media($mobile) {
					@include span-columns(2 of 4);
					@include shift(0);
					text-align: center;
				}

				.title {
					font-weight: bold;
					font-size: 12px;
					color: $grey-text;
				}
				.value {
					font-size: 40px;
					font-weight: bold;
				}
			}
		}


		// LOGIN PAGE 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		#login {
			a.new-account {
				margin-left: 15px;
			}
		}


		// QUESTION PAGE 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		#question-show {
			form {
				p {
					span.helptext {
						display: none;
					}
				}
			}
		}
		

		// LIST ALL QUESTIONS PAGE 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		#questions-list-all {

			.full {
				@include span-columns(10);
				margin-bottom: 20px;
			}

			.half {
				@include span-columns(5);
				@include media($mobile) {
					@include span-columns(4 of 4);
					margin-bottom: 15px;
				}
			}
		}


		// LIST ALL CHALLENGES PAGE 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		#challenge-list-all {

			.grid-item {
				$grid-item-border: 1px solid transparentize($base-font-color, .8);

				@include span-columns(2 of 4, table);
				@include transition (all 0.2s ease-in-out);
				height: 140px;
				background: $base-body-color;
				//width: 100%;
				overflow: hidden;
				float: left;
				padding: 2em 1em 1em 1em;
				border-right: $grid-item-border;
				border-bottom: $grid-item-border;
				cursor: pointer;
				text-align: center;

				&:hover {
					background: transparentize($base-font-color, .95);

					.title {
						letter-spacing: -0.5px;
					}
				}

				&.last-col {
					border-right: 0;
				}
				&.last-row {
					border-bottom: 0;
				}

				.title {
					font-size:24px;
					color: $base-font-color;
					letter-spacing: -1.5px;
					@include transition (all 0.1s ease-in-out);

					@include media($tablet) {
						font-size:20px;
					}
				}

				.detail {
					font-size:16px;
					color: $grey-text;

					.progress-bar-indication {
						$progress-border: 1px solid $base-border-color;
						$progress-meter-border: 1px solid darken($base-accent-color, 15%);
						$progress-meter-color: $base-accent-color;
						$progress-background: darken($base-body-color, 5);

						background-color: $progress-background;
						//border: $progress-border;
						box-shadow: inset 0 0 3px 0 rgba(darken($progress-background, 50%), 0.15);
						border-radius: $base-border-radius;
						margin: 5px 0;
						height: 6px;

						> .meter {
							background-color: $progress-meter-color;
							border: $progress-meter-border;
							border-radius: $base-border-radius /1.5;
							border-top-right-radius: 0;
							border-bottom-right-radius: 0;
							display: block;
							height: 100%;
							width: 60%;
						}

					}
				}
			}

			#open-challenges {
				@include span-columns(6);

				@include media($mobile) {
					@include span-columns(4 of 4);
					@include shift(0);
					margin-bottom: 15px;
				}
			}

			aside#played-challenges {
				ul {
					li {
						margin-bottom: 5px;

						a {
							padding: 5px;
							display: block;

							span {
								display: block;
								line-height: 1em;
							}
							span.detail {
								font-size: 14px;
								color: $grey-text;
								&:hover {
									color: $base-font-color;
								}
							}
						}
					}
				}
			}
		}


		// CREATE QUESTION PAGE 
		// - - - - - - - - - - - - - - - - - - - - - - - - 
		#question-create {
			form {
				@include span-columns(10);

				p {
					display: inline-block;
					@include span-columns(10);

					@include media($tablet) {
						@include span-columns(8);
					}
					@include media($mobile) {
						@include span-columns(4);
					}

					label, input, textarea {
						@include span-columns(7 of 10);
						float: left;

						@include media($tablet) {
							@include span-columns(5 of 8);
						}
						@include media($mobile) {
							@include span-columns(4 of 4);
						}
					}

					input, textarea {
						margin-bottom: 10px;
					}

					span.helptext {
						@include span-columns(3 of 10);
						display: inline-block;
						float: left;

						@include media($tablet) {
							@include span-columns(3 of 8);
							font-size: 14px;
						}

						@include media($mobile) {
							@include span-columns(4 of 4);
							font-size: 12px;
						}
					}
				}
			}
		}
	}
}

